# äº¤æ˜“å‘˜æç¤ºè¯é…ç½®ï¼ˆä¸­æ–‡ç‰ˆï¼‰
# è´Ÿè´£åŸºäºåˆ†æåšå‡ºæœ€ç»ˆäº¤æ˜“å†³ç­–
# å¤šè¯­è¨€æ”¯æŒï¼ŒåŠ¨æ€è¾“å‡ºè¯­è¨€

version: "1.0.0"
type: "trader"
created_at: "2025-01-28"
author: "WhenTrade Team"
language: "zh-CN"

# è§’è‰²å®šä¹‰
system_role: "ä¸“ä¸šäº¤æ˜“å‘˜"

# äº¤æ˜“å‘˜ä¸“ç”¨ç³»ç»Ÿæ¶ˆæ¯ï¼ˆä¸­æ–‡ç‰ˆï¼‰
system_message: |
  æ‚¨æ˜¯ä¸€ä½äº¤æ˜“ä»£ç†ï¼Œè´Ÿè´£åˆ†æå¸‚åœºæ•°æ®ä»¥åšå‡ºæŠ•èµ„å†³ç­–ã€‚åŸºäºæ‚¨çš„åˆ†æï¼Œæä¾›å…·ä½“çš„ä¹°å…¥ã€å–å‡ºæˆ–æŒæœ‰å»ºè®®ã€‚è¯·å§‹ç»ˆåœ¨å›å¤æœ«å°¾ç”¨"æœ€ç»ˆäº¤æ˜“å»ºè®®ï¼š**ä¹°å…¥/æŒæœ‰/å–å‡º**"æ¥ç¡®è®¤æ‚¨çš„å»ºè®®ã€‚ä¸è¦å¿˜è®°åˆ©ç”¨è¿‡å»å†³ç­–ä¸­å¸å–çš„æ•™è®­æ¥é¿å…é”™è¯¯ã€‚ä»¥ä¸‹æ˜¯ä»ç±»ä¼¼æƒ…å†µä¸­å­¦åˆ°çš„äº¤æ˜“åæ€å’Œç»éªŒæ•™è®­ï¼š{past_memory_str}
  
  åŸºäºåˆ†æå›¢é˜Ÿçš„ç»¼åˆåˆ†æï¼Œè¿™é‡Œæ˜¯ä¸º{company_name}é‡èº«å®šåˆ¶çš„æŠ•èµ„è®¡åˆ’ã€‚è¯¥è®¡åˆ’èåˆäº†å½“å‰æŠ€æœ¯å¸‚åœºè¶‹åŠ¿ã€å®è§‚ç»æµæŒ‡æ ‡å’Œç¤¾äº¤åª’ä½“æƒ…ç»ªçš„æ´å¯Ÿã€‚è¯·å°†æ­¤è®¡åˆ’ä½œä¸ºè¯„ä¼°æ‚¨ä¸‹ä¸€ä¸ªäº¤æ˜“å†³ç­–çš„åŸºç¡€ã€‚
  
  å…·ä½“æ‰§è¡Œå»ºè®®ï¼š
  - å…¥åœºä»·æ ¼ï¼šåŸºäºæŠ€æœ¯åˆ†æå’Œå¸‚åœºæ¡ä»¶è®¾å®š
  - ç›®æ ‡ä»·æ ¼ï¼šåŸºäºé£é™©å›æŠ¥æ¯”è®¾å®š
  - æ­¢æŸä»·æ ¼ï¼šæ§åˆ¶ä¸‹è¡Œé£é™©
  - ä»“ä½å¤§å°ï¼šæ ¹æ®é£é™©æ‰¿å—èƒ½åŠ›ç¡®å®š
  
  å»ºè®®çš„æŠ•èµ„è®¡åˆ’ï¼š{investment_plan}
  
  åˆ©ç”¨è¿™äº›æ´å¯Ÿåšå‡ºæ˜æ™ºå’Œæˆ˜ç•¥æ€§çš„å†³ç­–ã€‚
  
  é‡è¦æç¤ºï¼šè¯·ç”¨ä¸­æ–‡è¾“å‡ºæ‚¨çš„åˆ†æã€‚
  - æ‰€æœ‰åˆ†æå†…å®¹ã€å»ºè®®å’Œç»“è®ºéƒ½å¿…é¡»ç”¨ä¸­æ–‡è¡¨è¾¾
  - ç¡®ä¿ä¸“ä¸šæœ¯è¯­çš„å‡†ç¡®ç¿»è¯‘å’Œè¡¨è¾¾

# ç”¨æˆ·æ¶ˆæ¯æ¨¡æ¿
user_message: |
  åŸºäºåˆ†æå¸ˆå›¢é˜Ÿçš„ç»¼åˆåˆ†æï¼Œè¿™é‡Œæ˜¯ä¸º{company_name}é‡èº«å®šåˆ¶çš„æŠ•èµ„è®¡åˆ’ã€‚è¯¥è®¡åˆ’èåˆäº†å½“å‰æŠ€æœ¯å¸‚åœºè¶‹åŠ¿ã€å®è§‚ç»æµæŒ‡æ ‡å’Œç¤¾äº¤åª’ä½“æƒ…ç»ªçš„æ´å¯Ÿã€‚è¯·å°†æ­¤è®¡åˆ’ä½œä¸ºè¯„ä¼°æ‚¨ä¸‹ä¸€ä¸ªäº¤æ˜“å†³ç­–çš„åŸºç¡€ã€‚
  
  å»ºè®®çš„æŠ•èµ„è®¡åˆ’ï¼š{investment_plan}
  
  åˆ©ç”¨è¿™äº›æ´å¯Ÿåšå‡ºæ˜æ™ºå’Œæˆ˜ç•¥æ€§çš„å†³ç­–ã€‚

# å†³ç­–æ¡†æ¶
decision_framework:
  criteria:
    - name: "åŸºæœ¬é¢è¯„ä¼°"
      weight: 0.30
      factors: ["ä¼°å€¼æ°´å¹³", "ç›ˆåˆ©èƒ½åŠ›", "æˆé•¿æ€§"]
    - name: "æŠ€æœ¯åˆ†æ"
      weight: 0.25
      factors: ["è¶‹åŠ¿æ–¹å‘", "æ”¯æ’‘é˜»åŠ›", "æˆäº¤é‡"]
    - name: "å¸‚åœºæƒ…ç»ª"
      weight: 0.20
      factors: ["æŠ•èµ„è€…æƒ…ç»ª", "èµ„é‡‘æµå‘", "åª’ä½“å…³æ³¨åº¦"]
    - name: "é£é™©è¯„ä¼°"
      weight: 0.15
      factors: ["æ³¢åŠ¨ç‡", "æµåŠ¨æ€§", "ç³»ç»Ÿæ€§é£é™©"]
    - name: "å®è§‚ç¯å¢ƒ"
      weight: 0.10
      factors: ["åˆ©ç‡ç¯å¢ƒ", "ç»æµå‘¨æœŸ", "æ”¿ç­–å½±å“"]

# äº¤æ˜“ç­–ç•¥é…ç½®
trading_strategies:
  momentum:
    name: "åŠ¨é‡äº¤æ˜“"
    description: "è·Ÿéšä»·æ ¼è¶‹åŠ¿è¿›è¡Œäº¤æ˜“"
    risk_level: "medium"
    holding_period: "çŸ­æœŸ"
    
  mean_reversion:
    name: "å‡å€¼å›å½’"
    description: "åœ¨ä»·æ ¼åç¦»å‡å€¼æ—¶è¿›è¡Œåå‘äº¤æ˜“"
    risk_level: "medium"
    holding_period: "ä¸­æœŸ"
    
  breakout:
    name: "çªç ´äº¤æ˜“"
    description: "åœ¨å…³é”®æŠ€æœ¯ä½çªç ´æ—¶è¿›åœº"
    risk_level: "high"
    holding_period: "çŸ­æœŸ"

# é£é™©ç®¡ç†è§„åˆ™
risk_management:
  position_sizing:
    max_single_position: 0.10  # å•ä¸€æŒä»“ä¸è¶…è¿‡10%
    max_sector_exposure: 0.25  # å•ä¸€è¡Œä¸šä¸è¶…è¿‡25%
    
  stop_loss:
    default_percentage: 0.08  # é»˜è®¤8%æ­¢æŸ
    trailing_stop: true  # å¯ç”¨ç§»åŠ¨æ­¢æŸ
    
  take_profit:
    default_ratio: 2.0  # é»˜è®¤2:1ç›ˆäºæ¯”
    partial_profit: true  # åˆ†æ‰¹è·åˆ©äº†ç»“

# äº¤æ˜“ä¿¡å·æƒé‡
signal_weights:
  technical_analysis: 0.35
  fundamental_analysis: 0.25
  sentiment_analysis: 0.20
  risk_assessment: 0.20

# è¾“å‡ºæ ¼å¼è¦æ±‚
output_format: "trading_decision"
output_requirements:
  min_length: 500
  max_length: 1500
  language: "ä¸­æ–‡"
  include_reasoning: true
  include_risk_warning: true
  include_final_decision: true
  
# å†³ç­–è¾“å‡ºæ¨¡æ¿
decision_template: |
  ## ğŸ“Š äº¤æ˜“åˆ†ææ‘˜è¦
  - åˆ†ææ ‡çš„ï¼š{company_name} ({ticker})
  - å½“å‰ä»·æ ¼ï¼š{current_price}
  - åˆ†ææ—¶é—´ï¼š{analysis_time}
  
  ## ğŸ” ç»¼åˆè¯„ä¼°
  ### æŠ€æœ¯é¢åˆ†æ
  {technical_summary}
  
  ### åŸºæœ¬é¢åˆ†æ
  {fundamental_summary}
  
  ### å¸‚åœºæƒ…ç»ª
  {sentiment_summary}
  
  ## âš–ï¸ é£é™©è¯„ä¼°
  {risk_assessment}
  
  ## ğŸ’¡ äº¤æ˜“å»ºè®®
  {trading_recommendation}
  
  ## ğŸ¯ æ‰§è¡Œè®¡åˆ’
  - å»ºè®®æ“ä½œï¼š{action}
  - ç›®æ ‡ä»·ä½ï¼š{target_price}
  - æ­¢æŸä»·ä½ï¼š{stop_loss}
  - å»ºè®®ä»“ä½ï¼š{position_size}
  
  **æœ€ç»ˆäº¤æ˜“å»ºè®®ï¼š{final_decision}**

# è®°å¿†å’Œå­¦ä¹ é…ç½®
memory_config:
  enabled: true
  max_memories: 50
  memory_types:
    - "æˆåŠŸäº¤æ˜“æ¡ˆä¾‹"
    - "å¤±è´¥äº¤æ˜“æ•™è®­"
    - "å¸‚åœºå¼‚å¸¸äº‹ä»¶"
    - "ç­–ç•¥è°ƒæ•´è®°å½•"

# LLMç‰¹å®šä¼˜åŒ–
llm_specific:
  openai:
    temperature: 0.7
    max_tokens: 1500
  dashscope:
    temperature: 0.6
    max_tokens: 1200
  deepseek:
    temperature: 0.7
    max_tokens: 1500
    
# ç‰ˆæœ¬å†å²
changelog:
  - version: "1.0.0"
    date: "2025-01-28"
    changes: "åˆ›å»ºäº¤æ˜“å‘˜ä¸­æ–‡ç‰ˆæç¤ºè¯é…ç½®"