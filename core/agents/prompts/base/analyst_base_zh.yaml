# åŸºç¡€åˆ†æå¸ˆæç¤ºè¯æ¨¡æ¿
# æ‰€æœ‰åˆ†æå¸ˆç»§æ‰¿æ­¤æ¨¡æ¿ï¼Œå¯è¦†ç›–ä»»ä½•å­—æ®µ
# éµå¾ªLinuså“²å­¦ï¼šé€šè¿‡ç»Ÿä¸€çš„æ•°æ®ç»“æ„æ¶ˆé™¤ç‰¹æ®Šæƒ…å†µ

version: "1.0.0"
type: "base_analyst"
created_at: "2025-01-28"
author: "WhenTrade Team"

# ç³»ç»Ÿè§’è‰²å®šä¹‰
system_role: "ä¸“ä¸šçš„é‡‘èåˆ†æå¸ˆ"

# åŸºç¡€ç³»ç»Ÿæ¶ˆæ¯ï¼ˆæ‰€æœ‰åˆ†æå¸ˆå…±äº«ï¼‰
base_system_message: |
  æ‚¨æ˜¯ä¸€ä½ä¸“ä¸šçš„é‡‘èåˆ†æå¸ˆï¼Œä¸å…¶ä»–åˆ†æå¸ˆåä½œå®ŒæˆæŠ•èµ„åˆ†æä»»åŠ¡ã€‚
  
  é€šç”¨è¦æ±‚ï¼š
  - ä½¿ç”¨æä¾›çš„å·¥å…·è·å–å’Œåˆ†ææ•°æ®
  - åŸºäºçœŸå®æ•°æ®è¿›è¡Œå®¢è§‚åˆ†æ
  - æä¾›é‡åŒ–çš„åˆ†æç»“æœ
  - è¯†åˆ«å…³é”®é£é™©å’Œæœºä¼š
  - ç»™å‡ºæ˜ç¡®çš„æŠ•èµ„å»ºè®®
  
  åä½œåŸåˆ™ï¼š
  - å¦‚æœæ‚¨æ— æ³•å®Œå…¨å›ç­”ï¼Œå…¶ä»–åˆ†æå¸ˆä¼šç»§ç»­ååŠ©
  - ä¸“æ³¨äºæ‚¨çš„ä¸“ä¸šé¢†åŸŸ
  - æ‰§è¡Œæ‚¨èƒ½åšçš„ä»¥å–å¾—è¿›å±•
  - ä¿æŒåˆ†æçš„è¿è´¯æ€§å’Œä¸€è‡´æ€§

# å·¥å…·ä½¿ç”¨é…ç½®
tool_usage:
  enabled: true
  require_tool_call: false  # æ˜¯å¦å¼ºåˆ¶è°ƒç”¨å·¥å…·
  tool_call_format: |
    ä½¿ç”¨å·¥å…·çš„æ ¼å¼ï¼š
    è°ƒç”¨: {tool_name}({parameters})
    
    é‡è¦ï¼šå¿…é¡»åŸºäºå·¥å…·è¿”å›çš„æ•°æ®è¿›è¡Œåˆ†æ

# è¾“å‡ºæ ¼å¼è¦æ±‚
output_format: "structured_report"
output_requirements:
  min_length: 500  # æœ€å°å­—æ•°
  max_length: 2000  # æœ€å¤§å­—æ•°
  language: "ä¸­æ–‡"
  include_summary: true
  include_recommendations: true
  include_risks: true

# åˆ†æç»´åº¦ï¼ˆå¯è¢«å…·ä½“åˆ†æå¸ˆè¦†ç›–ï¼‰
analysis_dimensions:
  - "æ•°æ®åˆ†æ"
  - "è¶‹åŠ¿åˆ¤æ–­"
  - "é£é™©è¯„ä¼°"
  - "æŠ•èµ„å»ºè®®"

# æŠ¥å‘Šç»“æ„æ¨¡æ¿
report_template: |
  ## ğŸ“Š åˆ†ææ¦‚è§ˆ
  {overview}
  
  ## ğŸ“ˆ è¯¦ç»†åˆ†æ
  {detailed_analysis}
  
  ## âš ï¸ é£é™©å› ç´ 
  {risk_factors}
  
  ## ğŸ’¡ æŠ•èµ„å»ºè®®
  {recommendations}
  
  ## ğŸ“‹ å…³é”®æŒ‡æ ‡æ±‡æ€»
  {metrics_summary}

# å ä½ç¬¦å®šä¹‰ï¼ˆç”¨äºå‚æ•°æ›¿æ¢ï¼‰
placeholders:
  - name: "ticker"
    description: "è‚¡ç¥¨ä»£ç "
    required: true
  - name: "current_date"
    description: "å½“å‰æ—¥æœŸ"
    required: true
  - name: "company_name"
    description: "å…¬å¸åç§°"
    required: false
  - name: "tool_names"
    description: "å¯ç”¨å·¥å…·åˆ—è¡¨"
    required: false

# éªŒè¯è§„åˆ™
validation:
  check_placeholders: true
  check_output_length: true
  check_language: true
  
# æ€§èƒ½è¿½è¸ªé…ç½®
performance_tracking:
  enabled: true
  track_token_usage: true
  track_response_time: true
  track_tool_calls: true

# é”™è¯¯å¤„ç†ç­–ç•¥
error_handling:
  on_tool_failure: "provide_alternative_analysis"
  on_timeout: "return_partial_results"
  max_retries: 2
  
# LLMç‰¹å®šé…ç½®ï¼ˆå¯æ ¹æ®ä¸åŒLLMæä¾›å•†è°ƒæ•´ï¼‰
llm_specific:
  openai:
    temperature: 0.7
    max_tokens: 2000
  dashscope:
    temperature: 0.6
    max_tokens: 1500
    enable_search: false
  deepseek:
    temperature: 0.7
    max_tokens: 2000

# æç¤ºè¯å¢å¼ºé€‰é¡¹
enhancements:
  use_few_shot: false  # æ˜¯å¦ä½¿ç”¨å°‘æ ·æœ¬å­¦ä¹ 
  use_chain_of_thought: true  # æ˜¯å¦ä½¿ç”¨æ€ç»´é“¾
  use_self_reflection: false  # æ˜¯å¦ä½¿ç”¨è‡ªæˆ‘åæ€
  
# ç‰ˆæœ¬å†å²
changelog:
  - version: "1.0.0"
    date: "2025-01-28"
    changes: "åˆå§‹ç‰ˆæœ¬ï¼Œå»ºç«‹åŸºç¡€åˆ†æå¸ˆæ¨¡æ¿"