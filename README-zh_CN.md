<div align="center">
  <h1>âš¡ When.Trade</h1>
  <p><strong>AI é©±åŠ¨çš„å¤šæ™ºèƒ½ä½“æŠ•èµ„åˆ†æå¹³å°</strong></p>
  <p>é€šè¿‡åä½œå¼ AI æ™ºèƒ½ä½“å®ç°æ™ºèƒ½å¸‚åœºåˆ†æ â€¢ çµæ„Ÿæ¥æºäº <a href="https://github.com/TauricResearch/TradingAgents">TradingAgents</a></p>

  <!-- è¯­è¨€é€‰æ‹© -->
  <p>
    <a href="README.md">ğŸ‡ºğŸ‡¸ English</a> |
    <a href="README-zh_CN.md">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</a>
  </p>

  <!-- å¾½ç«  -->
  <p>
    <a href="https://python.org"><img src="https://img.shields.io/badge/Python-3.9%2B-blue?style=for-the-badge&logo=python" alt="Python Version"></a>
    <a href="https://fastapi.tiangolo.com"><img src="https://img.shields.io/badge/FastAPI-0.109%2B-009688?style=for-the-badge&logo=fastapi" alt="FastAPI"></a>
    <a href="https://vuejs.org"><img src="https://img.shields.io/badge/Vue.js-3.3%2B-4FC08D?style=for-the-badge&logo=vue.js" alt="Vue.js"></a>
    <a href="LICENSE"><img src="https://img.shields.io/badge/License-MIT-yellow?style=for-the-badge" alt="License"></a>
    <a href="CONTRIBUTING.md"><img src="https://img.shields.io/badge/PRs-welcome-brightgreen?style=for-the-badge" alt="PRs Welcome"></a>
  </p>

  <p>
    <a href="https://github.com/foldedcode/WhenTrade/stargazers"><img src="https://img.shields.io/github/stars/foldedcode/when.trade?style=social" alt="GitHub Stars"></a>
    <a href="https://github.com/foldedcode/WhenTrade/network/members"><img src="https://img.shields.io/github/forks/foldedcode/when.trade?style=social" alt="GitHub Forks"></a>
    <a href="https://github.com/foldedcode/WhenTrade/watchers"><img src="https://img.shields.io/github/watchers/foldedcode/when.trade?style=social" alt="GitHub Watchers"></a>
  </p>
</div>

## ğŸ“‹ ç›®å½•

- [âœ¨ é¡¹ç›®ç®€ä»‹](#-é¡¹ç›®ç®€ä»‹)
- [ğŸš€ æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§)
- [ğŸ—ï¸ ç³»ç»Ÿæ¶æ„](#ï¸-ç³»ç»Ÿæ¶æ„)
- [ğŸ’» æŠ€æœ¯æ ˆ](#-æŠ€æœ¯æ ˆ)
- [âš¡ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ğŸ“¸ é¡¹ç›®æˆªå›¾](#-é¡¹ç›®æˆªå›¾)
- [ğŸ“– ä½¿ç”¨ç¤ºä¾‹](#-ä½¿ç”¨ç¤ºä¾‹)
- [ğŸ¢ é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [â­ Star å†å²](#-star-å†å²)
- [ğŸ™ è‡´è°¢](#-è‡´è°¢)
- [ğŸ“„ å¼€æºè®¸å¯](#-å¼€æºè®¸å¯)

## âœ¨ é¡¹ç›®ç®€ä»‹

When.Trade æ˜¯ä¸€ä¸ª**å¼€æºçš„ AI é©±åŠ¨æŠ•èµ„åˆ†æå¹³å°**ï¼Œé€šè¿‡æ™ºèƒ½å¤šæ™ºèƒ½ä½“åä½œé©å‘½æ€§åœ°æ”¹å˜å¸‚åœºåˆ†ææ–¹å¼ã€‚

åŸºäº **[TradingAgents](https://github.com/TauricResearch/TradingAgents)** é¡¹ç›®å¥ å®šçš„åˆ›æ–°åŸºç¡€ï¼Œæœ¬é¡¹ç›®å®ç°äº†ä¸€ä¸ªå¤æ‚çš„ç”Ÿæ€ç³»ç»Ÿï¼Œä¸“ä¸šåŒ–çš„ AI æ™ºèƒ½ä½“ååŒå·¥ä½œæ¥ï¼š

- ğŸ” **åˆ†æ**æ¥è‡ªå¤šæºçš„å¤æ‚å¸‚åœºæ•°æ®
- ğŸ’­ **è¾©è®º**å¤šç©ºåŒæ–¹çš„æŠ•èµ„ç­–ç•¥è§‚ç‚¹
- âš–ï¸ **è¯„ä¼°**å…¨é¢çš„é£é™©åœºæ™¯åˆ†æ
- ğŸ“Š **ç”Ÿæˆ**å¯æ‰§è¡Œçš„æŠ•èµ„å»ºè®®

## ğŸš€ æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§                  | æè¿°                                                | ä¼˜åŠ¿                       |
| --------------------- | --------------------------------------------------- | -------------------------- |
| âš¡ **å®æ—¶åˆ†æ**       | åŸºäº WebSocket çš„å®æ—¶æ•°æ®æµå’Œå³æ—¶ç»“æœ               | è·å–æœ€æ–°å¸‚åœºæ´å¯Ÿ           |
| ğŸ§  **å¤š LLM æ”¯æŒ**    | æ”¯æŒ OpenAIã€Anthropicã€DeepSeekã€Kimi ç­‰å¤šä¸ªæä¾›å•† | AI æ¨ç†çš„çµæ´»æ€§å’Œå†—ä½™æ€§    |
| ğŸ“Š **ç»Ÿä¸€æ•°æ®æ¥å£**   | é›†æˆå¤šä¸ªæ•°æ®æºå¹¶å…·å¤‡è‡ªåŠ¨æ•…éšœè½¬ç§»                    | å¯é çš„æ•°æ®è®¿é—®å’Œä¸€è‡´æ€§     |
| ğŸ¯ **é«˜çº§é£é™©ç®¡ç†**   | å¤šè§†è§’é£é™©è¯„ä¼°å’Œåœºæ™¯åˆ†æ                            | å¢å¼ºæŠ•èµ„ç»„åˆä¿æŠ¤           |
| ğŸ”„ **LangGraph ç¼–æ’** | é€šè¿‡çŠ¶æ€å›¾ç®¡ç†å¤æ‚çš„åˆ†æå·¥ä½œæµ                      | å¯æ‰©å±•å’Œå¯ç»´æŠ¤çš„æ™ºèƒ½ä½“åè°ƒ |

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### ç³»ç»Ÿæ¦‚è§ˆ

```mermaid
graph TB
    subgraph "å‰ç«¯å±‚"
        UI[ğŸ–¥ï¸ Vue.js 3 + TypeScript]
        WS[ğŸ”Œ WebSocket å®¢æˆ·ç«¯]
        ST[ğŸ“¦ Pinia çŠ¶æ€ç®¡ç†]
    end

    subgraph "åç«¯ API å±‚"
        API[âš¡ FastAPI æœåŠ¡å™¨]
        WSS[ğŸ”Œ WebSocket æœåŠ¡å™¨]
        RT[ğŸ“Š å®æ—¶å¼•æ“]
    end

    subgraph "å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ"
        GRAPH[ğŸ­ LangGraph ç¼–æ’å™¨]

        subgraph "åˆ†ææ™ºèƒ½ä½“"
            MA[ğŸ“ˆ å¸‚åœºåˆ†æå¸ˆ]
            NA[ğŸ“° æ–°é—»åˆ†æå¸ˆ]
            SA[ğŸ’¬ ç¤¾äº¤åˆ†æå¸ˆ]
        end

        subgraph "ç ”ç©¶æ™ºèƒ½ä½“"
            BR[ğŸ‚ å¤šå¤´ç ”ç©¶å‘˜]
            BEAR[ğŸ» ç©ºå¤´ç ”ç©¶å‘˜]
        end

        subgraph "å†³ç­–æ™ºèƒ½ä½“"
            TR[ğŸ’° äº¤æ˜“å‘˜]
            RM[âš–ï¸ é£é™©ç»ç†]
            PM[ğŸ“‹ æŠ•èµ„ç»„åˆç»ç†]
        end
    end

    subgraph "æ•°æ®å±‚"
        DB[(ğŸ—„ï¸ PostgreSQL)]
        REDIS[(âš¡ Redis ç¼“å­˜)]
        EXT[ğŸŒ å¤–éƒ¨ API]
    end

    UI --> API
    WS --> WSS
    API --> GRAPH
    WSS --> RT
    GRAPH --> MA
    GRAPH --> NA
    GRAPH --> SA
    GRAPH --> BR
    GRAPH --> BEAR
    GRAPH --> TR
    GRAPH --> RM
    GRAPH --> PM
    API --> DB
    API --> REDIS
    API --> EXT
```

### å››å±‚æ¶æ„

```mermaid
graph LR
    subgraph "ğŸ¨ UI å±‚"
        C[ç»„ä»¶]
        V[è§†å›¾]
        S[çŠ¶æ€]
    end

    subgraph "âš™ï¸ æœåŠ¡å±‚"
        BL[ä¸šåŠ¡é€»è¾‘]
        WF[å·¥ä½œæµ]
        VA[éªŒè¯]
    end

    subgraph "ğŸ”Œ é€‚é…å™¨å±‚"
        LLM[LLM é€‚é…å™¨]
        API_A[API é€‚é…å™¨]
        DATA[æ•°æ®é€‚é…å™¨]
    end

    subgraph "ğŸ”§ æ¥å£å±‚"
        INTF[æ¥å£å®šä¹‰]
        CONT[å¥‘çº¦]
        TYPES[ç±»å‹]
    end

    C --> BL
    V --> BL
    S --> BL
    BL --> LLM
    WF --> API_A
    VA --> DATA
    LLM --> INTF
    API_A --> CONT
    DATA --> TYPES
```

### å¤šæ™ºèƒ½ä½“å·¥ä½œæµç¨‹

```mermaid
sequenceDiagram
    participant ç”¨æˆ·
    participant WebSocket
    participant ç¼–æ’å™¨
    participant æ•°æ®æ™ºèƒ½ä½“
    participant ç ”ç©¶æ™ºèƒ½ä½“
    participant å†³ç­–æ™ºèƒ½ä½“

    ç”¨æˆ·->>WebSocket: å¯åŠ¨åˆ†æè¯·æ±‚
    WebSocket->>ç¼–æ’å™¨: åˆå§‹åŒ–åˆ†æ

    Note over ç¼–æ’å™¨: é˜¶æ®µ1: æ•°æ®æ”¶é›†
    ç¼–æ’å™¨->>æ•°æ®æ™ºèƒ½ä½“: æ”¶é›†å¸‚åœºæ•°æ®
    æ•°æ®æ™ºèƒ½ä½“-->>ç¼–æ’å™¨: åˆ†æç»“æœ

    Note over ç¼–æ’å™¨: é˜¶æ®µ2: æŠ•èµ„è¾©è®º
    ç¼–æ’å™¨->>ç ”ç©¶æ™ºèƒ½ä½“: å¤šç©ºè¾©è®º
    ç ”ç©¶æ™ºèƒ½ä½“-->>ç¼–æ’å™¨: è¾©è®ºç»“è®º

    Note over ç¼–æ’å™¨: é˜¶æ®µ3: å†³ç­–åˆ¶å®š
    ç¼–æ’å™¨->>å†³ç­–æ™ºèƒ½ä½“: é£é™©ä¸æŠ•èµ„ç»„åˆåˆ†æ
    å†³ç­–æ™ºèƒ½ä½“-->>ç¼–æ’å™¨: æœ€ç»ˆå»ºè®®

    ç¼–æ’å™¨->>WebSocket: æµå¼ç»“æœ
    WebSocket->>ç”¨æˆ·: å®æ—¶æ›´æ–°
```

## ğŸ’» æŠ€æœ¯æ ˆ

<div align="center">

### ğŸ åç«¯æŠ€æœ¯

| åˆ†ç±»          | æŠ€æœ¯                  | ç‰ˆæœ¬   | ç”¨é€”           |
| ------------- | --------------------- | ------ | -------------- |
| ğŸš€ **æ¡†æ¶**   | FastAPI               | 0.109+ | é«˜æ€§èƒ½å¼‚æ­¥ API |
| ğŸ§  **AI/ML**  | LangChain + LangGraph | æœ€æ–°ç‰ˆ | å¤šæ™ºèƒ½ä½“ç¼–æ’   |
| ğŸ—„ï¸ **æ•°æ®åº“** | PostgreSQL            | 15+    | ä¸»æ•°æ®å­˜å‚¨     |
| âš¡ **ç¼“å­˜**   | Redis                 | 7+     | é«˜é€Ÿç¼“å­˜       |
| ğŸ”„ **é˜Ÿåˆ—**   | Celery                | 5.3+   | åå°ä»»åŠ¡å¤„ç†   |
| ğŸ§ª **æµ‹è¯•**   | pytest                | 7.4+   | ç»¼åˆæµ‹è¯•å¥—ä»¶   |

### ğŸ¨ å‰ç«¯æŠ€æœ¯

| åˆ†ç±»            | æŠ€æœ¯         | ç‰ˆæœ¬   | ç”¨é€”                |
| --------------- | ------------ | ------ | ------------------- |
| âš›ï¸ **æ¡†æ¶**     | Vue.js       | 3.3+   | å“åº”å¼ç”¨æˆ·ç•Œé¢      |
| ğŸ“˜ **è¯­è¨€**     | TypeScript   | 5.6+   | ç±»å‹å®‰å…¨å¼€å‘        |
| âš¡ **æ„å»ºå·¥å…·** | Vite         | 7.0+   | å¿«é€Ÿå¼€å‘å’Œæ„å»º      |
| ğŸ¨ **æ ·å¼**     | Tailwind CSS | æœ€æ–°ç‰ˆ | å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶ |
| ğŸ“Š **çŠ¶æ€ç®¡ç†** | Pinia        | æœ€æ–°ç‰ˆ | ç±»å‹å®‰å…¨çŠ¶æ€ç®¡ç†    |
| ğŸ“ˆ **å›¾è¡¨**     | Chart.js     | 4.4+   | é‡‘èæ•°æ®å¯è§†åŒ–      |

### ğŸ¤– LLM é›†æˆ

| æä¾›å•†          | æ¨¡å‹                 | ç‰¹æ€§               |
| --------------- | -------------------- | ------------------ |
| ğŸ¤– **OpenAI**   | GPT-4, GPT-3.5-turbo | å·¥å…·è°ƒç”¨ã€æ¨ç†     |
| ğŸŒ **Google**   | Gemini Pro, Gemini   | å¤šæ¨¡æ€ã€é«˜æ•ˆæ¨ç†   |
| ğŸ‡¨ğŸ‡³ **DeepSeek** | DeepSeek             | æ€§èƒ½ä¼˜å¼‚ï¼Œä»·æ ¼ä¾¿å®œ |
| ğŸŒ™ **Kimi**     | Moonshot-Kimi        | å®æ—¶æ•°æ®å¤„ç†       |

</div>

## âš¡ å¿«é€Ÿå¼€å§‹

### ç³»ç»Ÿè¦æ±‚

<details>
<summary>ğŸ“‹ ç³»ç»Ÿè¦æ±‚</summary>

| ç»„ä»¶           | æœ€ä½è¦æ±‚ | æ¨èé…ç½® |
| -------------- | -------- | -------- |
| **Python**     | 3.9+     | 3.11+    |
| **Node.js**    | 16+      | 18+      |
| **PostgreSQL** | 15+      | 16+      |
| **Redis**      | 7+       | 7+       |

</details>

### ğŸ› ï¸ æ‰‹åŠ¨å®‰è£…

<details>
<summary>1ï¸âƒ£ å…‹éš†ä»“åº“</summary>

```bash
git clone https://github.com/foldedcode/WhenTrade.git
cd when.trade
```

</details>

<details>
<summary>2ï¸âƒ£ åç«¯è®¾ç½®</summary>

```bash
# åˆ›å»º conda ç¯å¢ƒ
conda create -n whentrade python=3.11
conda activate whentrade

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# è®¾ç½®æ•°æ®åº“
createdb whentrade_new
alembic upgrade head
```

</details>

<details>
<summary>3ï¸âƒ£ å‰ç«¯è®¾ç½®</summary>

```bash
cd web
npm install
# æˆ–ä½¿ç”¨ yarn
yarn install
```

</details>

<details>
<summary>4ï¸âƒ£ ç¯å¢ƒé…ç½®</summary>

```bash
# å¤åˆ¶ç¯å¢ƒæ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘é…ç½®ï¼ˆå¿…éœ€ï¼‰
nano .env  # æ·»åŠ æ‚¨çš„ API å¯†é’¥å’Œæ•°æ®åº“è®¾ç½®
```

**å¯é€‰çš„ API å¯†é’¥ï¼ˆæ ¹æ®éœ€è¦é…ç½®ï¼‰ï¼š**

- `OPENAI_API_KEY` - ä» [OpenAI](https://platform.openai.com/) è·å–
- `DEEPSEEK_API_KEY` - ä» [DeepSeek](https://platform.deepseek.com/) è·å–
- `KIMI_API_KEY` - ä» [Kimi (æœˆä¹‹æš—é¢)](https://platform.moonshot.cn/) è·å–
- `GOOGLE_API_KEY` - ä» [Google AI Studio](https://makersuite.google.com/) è·å–
- `FINNHUB_API_KEY` - ä» [Finnhub](https://finnhub.io/) è·å–
- `COINGECKO_API_KEY` - ä» [CoinGecko](https://www.coingecko.com/api) è·å–
- `REDDIT_CLIENT_ID` ä¸ `REDDIT_CLIENT_SECRET` - ä» [Reddit åº”ç”¨](https://www.reddit.com/prefs/apps) è·å–

</details>

### ğŸš€ å¯åŠ¨åº”ç”¨

**æ–¹å¼ 1: ä½¿ç”¨å¯åŠ¨è„šæœ¬**

```bash
# å¯åŠ¨åç«¯
./start.sh

# å¯åŠ¨å‰ç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰
cd web && npm run dev
```

**æ–¹å¼ 2: æ‰‹åŠ¨å¯åŠ¨**

```bash
# ç»ˆç«¯ 1: åç«¯
conda activate whentrade
uvicorn core.main:app --reload --host 0.0.0.0 --port 8000

# ç»ˆç«¯ 2: å‰ç«¯
cd web
npm run dev
```

**æ–¹å¼ 3: ç”Ÿäº§æ¨¡å¼**

```bash
# æ„å»ºå¹¶å¯åŠ¨ç”Ÿäº§ç‰ˆæœ¬
npm run build
python -m uvicorn core.main:app --host 0.0.0.0 --port 8000
```

### ğŸ”— è®¿é—®å…¥å£

| æœåŠ¡              | URL                                                        | æè¿°            |
| ----------------- | ---------------------------------------------------------- | --------------- |
| ğŸ–¥ï¸ **å‰ç«¯**       | [http://localhost:3000](http://localhost:3000)             | ä¸»åº”ç”¨ç•Œé¢      |
| ğŸ“¡ **API æœåŠ¡å™¨** | [http://localhost:8000](http://localhost:8000)             | åç«¯ API ç«¯ç‚¹   |
| ğŸ“š **API æ–‡æ¡£**   | [http://localhost:8000/docs](http://localhost:8000/docs)   | äº¤äº’å¼ API æ–‡æ¡£ |
| ğŸ” **API Redoc**  | [http://localhost:8000/redoc](http://localhost:8000/redoc) | æ›¿ä»£ API æ–‡æ¡£   |

### âœ… éªŒè¯

```bash
# æ£€æŸ¥åç«¯å¥åº·çŠ¶æ€
curl http://localhost:8000/health

# æ£€æŸ¥ WebSocket è¿æ¥
wscat -c ws://localhost:8000/ws/analysis

# è¿è¡Œæµ‹è¯•
pytest  # åç«¯æµ‹è¯•
npm test  # å‰ç«¯æµ‹è¯•
```

## ğŸ“¸ é¡¹ç›®æˆªå›¾

<div align="center">

### ğŸ¬ åœ¨çº¿æ¼”ç¤º

<table>
<tr>
<td align="center">
<img src="docs/media/demos/demo1.gif" width="400" alt="WhenTrade æ¼”ç¤º1 - å®æ—¶åˆ†æ"><br>
<em>å®æ—¶å¤šæ™ºèƒ½ä½“åˆ†æ</em>
</td>
<td align="center">
<img src="docs/media/demos/demo2.gif" width="400" alt="WhenTrade æ¼”ç¤º2 - æŠ•èµ„ç ”ç©¶"><br>
<em>æŠ•èµ„ç ”ç©¶ä¸é£é™©è¯„ä¼°</em>
</td>
</tr>
</table>

### ğŸ–¥ï¸ äº§å“ç•Œé¢

<table>
<tr>
<td align="center">
<img src="docs/media/screenshots/1.png" width="400" alt="ä¸­æ–‡ç•Œé¢æˆªå›¾1"><br>
</td>
<td align="center">
<img src="docs/media/screenshots/3.png" width="400" alt="ä¸­æ–‡ç•Œé¢æˆªå›¾3"><br>
</td>
</tr>
<tr>
<td align="center" colspan="2">
<img src="docs/media/screenshots/4.png" width="400" alt="ä¸­æ–‡ç•Œé¢æˆªå›¾4"><br>
</td>
</tr>
</table>

### ğŸ¬ äº§å“ç‰¹è‰²

**å®æ—¶å¤šæ™ºèƒ½ä½“åˆ†æ** - åä½œå¼ AI æ™ºèƒ½ä½“å›¢é˜Ÿå·¥ä½œ
**ä¸“ä¸šæŠ•èµ„æ´å¯Ÿ** - å¤šå¤´ vs ç©ºå¤´ç ”ç©¶è¾©è®º
**å…¨é¢é£é™©è¯„ä¼°** - å¤šè§’åº¦åœºæ™¯åˆ†æ
**ç°ä»£åŒ– Web ç•Œé¢** - Vue.js 3 å“åº”å¼è®¾è®¡

</div>

## ğŸ¢ é¡¹ç›®ç»“æ„

```
when.trade/                         # ğŸ“ é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ ğŸ core/                        # åç«¯åº”ç”¨
â”‚   â”œâ”€â”€ ğŸ¤– agents/                  # å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ base.py              # æ™ºèƒ½ä½“åŸºç±» (âš ï¸ 1,344 è¡Œ)
â”‚   â”‚   â”œâ”€â”€ ğŸ“Š analysts/            # å¸‚åœºåˆ†ææ™ºèƒ½ä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ market_analyst.py   # æŠ€æœ¯ä¸ä»·æ ¼åˆ†æ
â”‚   â”‚   â”‚   â”œâ”€â”€ news_analyst.py     # æ–°é—»æƒ…æ„Ÿåˆ†æ
â”‚   â”‚   â”‚   â”œâ”€â”€ fundamentals_analyst.py # åŸºæœ¬é¢åˆ†æ
â”‚   â”‚   â”œâ”€â”€ ğŸ”¬ researchers/         # æŠ•èµ„ç ”ç©¶æ™ºèƒ½ä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ bull_researcher.py  # å¤šå¤´ç ”ç©¶
â”‚   â”‚   â”‚   â””â”€â”€ bear_researcher.py  # ç©ºå¤´ç ”ç©¶
â”‚   â”‚   â”œâ”€â”€ ğŸ‘¥ managers/            # ç®¡ç†æ™ºèƒ½ä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ research_manager.py # ç ”ç©¶åè°ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ risk_manager.py     # é£é™©è¯„ä¼°
â”‚   â”‚   â”‚   â””â”€â”€ portfolio_manager.py # æŠ•èµ„ç»„åˆç®¡ç†
â”‚   â”‚   â”œâ”€â”€ âš–ï¸ risk_mgmt/           # é£é™©ç®¡ç†æ™ºèƒ½ä½“
â”‚   â”‚   â”œâ”€â”€ ğŸ§° utils/               # æ™ºèƒ½ä½“å·¥å…· (âš ï¸ 1,602 è¡Œ)
â”‚   â”‚   â””â”€â”€ ğŸ­ factory.py           # åŠ¨æ€æ™ºèƒ½ä½“å·¥å‚
â”‚   â”œâ”€â”€ ğŸŒ api/                     # API å±‚
â”‚   â”‚   â””â”€â”€ v1/routes/              # API è·¯ç”±
â”‚   â”‚       â”œâ”€â”€ analysis_ws.py      # WebSocket å¤„ç†å™¨ (âš ï¸ 2,510 è¡Œ)
â”‚   â”‚       â”œâ”€â”€ analysis.py         # åˆ†æ REST API
â”‚   â”‚       â””â”€â”€ agents.py           # æ™ºèƒ½ä½“ç®¡ç† API
â”‚   â”œâ”€â”€ ğŸ”„ services/                # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ ğŸ”Œ adapters/                # å¤–éƒ¨é›†æˆ
â”‚   â”‚   â”œâ”€â”€ llm_adapters/           # LLM æä¾›å•†é€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ data_adapters/          # å¸‚åœºæ•°æ®é€‚é…å™¨
â”‚   â”‚   â””â”€â”€ api_adapters/           # å¤–éƒ¨ API é€‚é…å™¨
â”‚   â”œâ”€â”€ ğŸ“Š dataflows/               # æ•°æ®å¤„ç†å±‚
â”‚   â”‚   â”œâ”€â”€ interface.py            # ç»Ÿä¸€æ•°æ®æ¥å£ (âš ï¸ 1,624 è¡Œ)
â”‚   â”‚   â””â”€â”€ realtime_news_utils.py  # å®æ—¶æ–°é—»å¤„ç†
â”‚   â”œâ”€â”€ ğŸ­ graph/                   # LangGraph ç¼–æ’
â”‚   â”‚   â””â”€â”€ whentrade_graph.py      # ä¸»å·¥ä½œæµå›¾
â”‚   â”œâ”€â”€ ğŸ—„ï¸ database/               # æ•°æ®åº“å±‚
â”‚   â”œâ”€â”€ âš™ï¸ config/                  # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ ğŸ“„ main.py                  # FastAPI åº”ç”¨å…¥å£
â”‚
â”œâ”€â”€ ğŸ¨ web/                         # å‰ç«¯åº”ç”¨ (197 æ–‡ä»¶)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ ğŸ§© components/          # Vue.js ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ analysis/           # åˆ†æç•Œé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ common/             # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“¦ stores/              # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ analysis.ts         # åˆ†æçŠ¶æ€
â”‚   â”‚   â”‚   â”œâ”€â”€ agents.ts           # æ™ºèƒ½ä½“çŠ¶æ€
â”‚   â”‚   â”‚   â””â”€â”€ websocket.ts        # WebSocket çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ ğŸ”§ services/            # å‰ç«¯ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ ğŸ”Œ adapters/            # å‰ç«¯ API é€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ ğŸ¨ assets/              # é™æ€èµ„æº
â”‚   â”‚   â””â”€â”€ ğŸ“± views/               # é¡µé¢è§†å›¾
â”‚   â”œâ”€â”€ ğŸ“¦ package.json             # Node.js ä¾èµ–
â”‚   â””â”€â”€ âš™ï¸ vite.config.ts           # Vite é…ç½®
â”‚
â”œâ”€â”€ âš™ï¸ configs/                     # é…ç½®æ–‡ä»¶
â”œâ”€â”€ ğŸš€ scripts/                     # éƒ¨ç½²ä¸å·¥å…·è„šæœ¬
â”œâ”€â”€ ğŸ“š docs/                        # æ–‡æ¡£
â”‚   â”œâ”€â”€ images/                     # README å›¾ç‰‡ä¸æˆªå›¾
â”‚   â””â”€â”€ diagrams/                   # æ¶æ„å›¾è¡¨
â”œâ”€â”€ ğŸ§ª tests/                       # æµ‹è¯•å¥—ä»¶
â”œâ”€â”€ ğŸ—ƒï¸ alembic/                     # æ•°æ®åº“è¿ç§»
â””â”€â”€ ğŸ“„ README.md                    # é¡¹ç›®æ–‡æ¡£
```

### ğŸ“Š å…³é”®æŒ‡æ ‡

| åˆ†ç±»                | æ•°é‡    | å¤‡æ³¨                     |
| ------------------- | ------- | ------------------------ |
| **Python æ–‡ä»¶**     | 150+    | åç«¯å®ç°                 |
| **TypeScript æ–‡ä»¶** | 197     | å‰ç«¯å®ç°                 |
| **æ€»ä»£ç è¡Œæ•°**      | 50,000+ | ä¼°è®¡é¡¹ç›®è§„æ¨¡             |
| **å¤§æ–‡ä»¶**          | 6       | æ–‡ä»¶ >1,000 è¡Œï¼ˆè§è­¦å‘Šï¼‰ |
| **æµ‹è¯•è¦†ç›–ç‡**      | 80%+    | ç»¼åˆæµ‹è¯•å¥—ä»¶             |

### âš ï¸ å¤§æ–‡ä»¶å¯¼èˆª

ä¸ºäº†ä¼˜åŒ–å¼€å‘ä½“éªŒï¼Œå¯¹è¿™äº›æ–‡ä»¶ä½¿ç”¨åŸºäºç¬¦å·çš„å¯¼èˆªï¼š

| æ–‡ä»¶                           | è¡Œæ•°  | å¯¼èˆªç­–ç•¥           |
| ------------------------------ | ----- | ------------------ |
| `agents/base.py`               | 1,344 | ä½¿ç”¨åŸºäºç±»çš„å¯¼èˆª   |
| `agents/utils/agent_utils.py`  | 1,602 | ä½¿ç”¨åŸºäºå‡½æ•°çš„æœç´¢ |
| `api/v1/routes/analysis_ws.py` | 2,510 | ä½¿ç”¨åŸºäºç«¯ç‚¹çš„å¯¼èˆª |
| `dataflows/interface.py`       | 1,624 | ä½¿ç”¨åŸºäºæ–¹æ³•çš„æœç´¢ |

## â­ Star å†å²

[![Star History Chart](https://api.star-history.com/svg?repos=foldedcode/WhenTrade&type=Date)](https://star-history.com/#foldedcode/WhenTrade&Date)

## ğŸ™ è‡´è°¢

<div align="center">

### ğŸ¯ æ ¸å¿ƒçµæ„Ÿ

**[TradingAgents](https://github.com/TauricResearch/TradingAgents)** - å¯å‘æˆ‘ä»¬å¤šæ™ºèƒ½ä½“é‡‘èåˆ†ææ–¹æ³•çš„å…ˆé©±é¡¹ç›®ã€‚

### ğŸ› ï¸ æŠ€æœ¯åˆä½œä¼™ä¼´

| æŠ€æœ¯                                        | è´¡çŒ®                |
| ------------------------------------------- | ------------------- |
| **[LangChain](https://langchain.com)**      | å¤šæ™ºèƒ½ä½“ç¼–æ’æ¡†æ¶    |
| **[FastAPI](https://fastapi.tiangolo.com)** | é«˜æ€§èƒ½å¼‚æ­¥ Web æ¡†æ¶ |
| **[Vue.js](https://vuejs.org)**             | å“åº”å¼å‰ç«¯æ¡†æ¶      |
| **[PostgreSQL](https://postgresql.org)**    | å¼ºå¤§çš„æ•°æ®åº“ç³»ç»Ÿ    |
| **[Redis](https://redis.io)**               | é«˜é€Ÿç¼“å­˜è§£å†³æ–¹æ¡ˆ    |

</div>

### ğŸ“¢ å…è´£å£°æ˜

> **âš ï¸ é‡è¦æç¤º**: æœ¬è½¯ä»¶**ä»…ç”¨äºæ•™è‚²å’Œç ”ç©¶ç›®çš„**ã€‚
>
> - **ä¸è¦**åœ¨æ²¡æœ‰é€‚å½“é£é™©ç®¡ç†çš„æƒ…å†µä¸‹ç”¨äºå®é™…äº¤æ˜“
> - åœ¨åšä»»ä½•æŠ•èµ„å†³ç­–ä¹‹å‰è¿›è¡Œå……åˆ†çš„å°½èŒè°ƒæŸ¥
> - è¿‡å»çš„è¡¨ç°ä¸èƒ½ä¿è¯æœªæ¥çš„ç»“æœ
> - ä½œè€…å¯¹ä»»ä½•è´¢åŠ¡æŸå¤±ä¸æ‰¿æ‹…è´£ä»»

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ **MIT å¼€æºåè®®** - è¯¦æƒ…è¯·æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

<div align="center">
  <p><strong>ç”± When.Trade ç¤¾åŒºç”¨ â¤ï¸ æ„å»º</strong></p>
  <p>
    <a href="https://github.com/foldedcode/WhenTrade/stargazers">â­ åœ¨ GitHub ä¸Šç»™æˆ‘ä»¬ Star</a> â€¢
    <a href="https://github.com/foldedcode/WhenTrade/issues">ğŸ› æŠ¥å‘Šé—®é¢˜</a> â€¢
    <a href="CONTRIBUTING.md">ğŸ¤ å‚ä¸è´¡çŒ®</a>
  </p>
</div>
